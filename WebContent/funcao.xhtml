<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"> 
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:p="http://primefaces.org/ui">


<ui:composition template="/templates/templates.xhtml"> 


<ui:define name="titulo">Cadastrar Funções</ui:define>


<ui:define name="conteudo">
<h:form id="formFuncoes">
			
			<p:panelGrid columns="2">
				<p:outputLabel value="Nome: " for="nome"/>
				<p:inputText value="#{funcaoBean.funcao.nome}" id="nome" required="true" requiredMessage="Nome Obrigatório!" />
				
				
				<p:commandButton action="#{funcaoBean.salvarFuncao()}" value="Salvar" 
				update=":mensagem :formFuncoes, formLista:tableFuncoes" process="@form" />			
			</p:panelGrid>	
		</h:form>	
		<br/>
		
		<br></br><br></br>
		<h:form id="formLista">
			<p:dataTable  style="max-width: 500px; min-width: 500px" value="#{funcaoBean.funcoes}" var="func" paginator="true" id="tableFuncoes"
			 emptyMessage="Nenhuma função Cadastrada!" rows="10">
				<p:column headerText="Nome" sortBy="#{func.nome}">
					<h:outputText value="#{func.nome}" />
				</p:column>
				
				<p:column style="width:55px" headerText="Editar">
					<p:commandButton action="#{funcaoBean.editarFuncao(func)}" icon="ui-icon-pencil" 
					update=":mensagem :formFuncoes" process="@form" />
				</p:column>	
				
				<p:column style="width:55px"  headerText="Excluir">
			<p:commandButton icon="ui-icon-trash" action="#{funcaoBean.removerFuncao(func)}"
			 update=":mensagem :formLista :formLista:tableFuncoes"  process="@form">
			 <p:confirm header="Confirmação" message="Deseja excluir função?" icon="ui-icon-alert" />
			</p:commandButton>
			
			<p:confirmDialog global="true" showEffect="size" hideEffect="size">
        <p:commandButton value="Sim" type="button" styleClass="ui-confirmdialog-yes" icon="ui-icon-check" />
        <p:commandButton value="Não" type="button" styleClass="ui-confirmdialog-no" icon="ui-icon-close" />
        </p:confirmDialog>	
			
			</p:column>	
				
			
				
			</p:dataTable>
		</h:form>







  
</ui:define>	 
</ui:composition>













</html>
